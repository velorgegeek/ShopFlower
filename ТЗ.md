# Техническое задание: [Название проекта]

**Студент:** Медведев Егор Евгеньевич

**Группа:** 2407сб2

---

## 1. Описание проекта

### 1.1 Название системы
Магазин цветов


### 1.2 Назначение
[Опишите в 2-3 предложениях, для чего предназначена система]

**Пример:**
"Система предназначена для автоматизации работы магазина цветов. Позволяет пользователям дистанционно купить цветы, регистрировать пользователей, управлять складом цветов, а также обрабатывать оплату подписок."

---

## 2. Функциональные требования

### 2.1 Основные функции системы

Опишите 5-7 ключевых функций вашей системы. Для каждой функции укажите:
- Подробное описание функции
- Входные данные и результат
- Покупка пользователя:


#### Функция 1: [Название функции]
- **Описание:** [Подробное описание того, что делает эта 
- **Входные данные:** [Что вводит пользователь]
- **Результат:** [Что получается в итоге]


#### Функция 1: Продажа букета
- **Описание:** Пользователь выбирает понравившийся букет, выбирает кол-во цветов в букете(если можно), флорист собирает, пользователь оплачивает
- **Входные данные:** букет, пользователь
- **Результат:** Пользователь с букетом, со склада ушло сырье


#### Функция 2: Добавления букета
- **Описание:** Администратор добавляет новый букет через кнопку, букет может быть с разными кол-во цветов, титульник букета должнен быть оформлен(описание) 
- **Входные данные:** Нет
- **Результат:** Бд пополнилось новым букетом

#### Функция 3: Удаление букета
- **Описание:** Администратор удаляет букет через кнопку, букет удаляется из бд
- **Входные данные:** Букет
- **Результат:** из бд удален букет

#### Функция 4: Редактирование букета
- **Описание:** Администратор редактирует букет, может изменять название, описание, размер, вариации, букет изменяется из бд
- **Входные данные:** Букет
- **Результат:** в бд изменен букет

#### Функция N: Оплата Букета
- **Описание:** Оплачивается покупка букета, пользователь оплачивает букет через оплату картой
- **Входные данные:** Номер карты,букет который хотят купить, пользователь 
- **Результат:** Пользователь получает чек и в последствии букет

**Важно:** Эта функция обязательна для курсовой работы!

**Пример:**
```markdown
#### Функция 10: Оплата подписки
- **Описание:** Пользователь может оплатить годовую или месячную подписку на использование приложения букета. Выбирает тариф, вводит данные банковской карты (номер, срок действия, CVV). Система проверяет корректность данных, создаёт запись о платеже и, при успешной оплате, автоматически продлевает срок действия подписки.
- **Входные данные:** выбранный тариф, данные карты
- **Результат:** Платёж обработан, подписка продлена, создана запись в БД
```

---

## 3. Структура базы данных

Опишите все таблицы (сущности) вашей базы данных. Для каждой таблицы укажите:
- Название таблицы
- Список полей с типами данных
- Связи с другими таблицами (Foreign Keys)

### Таблица 1: Sale (Покупка)

**Описание:** для хранения заявки 

**Поля:**
- `Id` (int, PK) — [индификатор]
- `DateCreate` (DateTime) — [Дата покупки]
- `[Bouquet]Id` (int, FK → [Bouqet]) — [описание связи]

### Таблица 2: Товары в покупке (SaleGoods)
-`id` - (int, PK) — [индификатор]
- `[Bouquet]Id` (int, FK → [Bouqet]) — [описание связи]
- `[Flowers]id` (int, FK → [Bouqet]) — [описание связи]


**Пример:**
```markdown
### Таблица 1: Bouquet (Букеты)

**Описание:** Хранит информацию о букете

**Поля:**
- `Id` (int, PK) — уникальный идентификатор книги
- `cost`(int) - цена
- `Title` (string) — название 
- `Height` (string) — Высота 
- `Width` (string) - Ширина  *nullable


**Связи:**
- Связь один-ко-многим с таблицей `Loans` (одна книга может быть выдана много раз)
```

---

## 4. Основные формы приложения

Опишите все формы (окна) вашего приложения. Для каждой формы укажите:
- Название формы (класс окна)
- Назначение формы
- Список элементов управления
- Доступные действия (кнопки)

#### Форма 1: [Добавление букета]

**Назначение:** [Добавление букета в программу]

**Элементы управления:**
- TextBox() — [высота]
- TextBox - [Имя букета]
- TextBox - [Цена]
- TextBox - [Размер]
- TextBox - [Изображение]
- TextBox - [Остаток на складе]

- [Элемент управления 2] — [описание]
- **Действия:**
- Кнопка "[Добавить]" — [Добавляет в бд букет]
- Кнопка "[Закрыть]" — [Закрывает форму]
- ...
#### Форма 2: [Продажа букета]
**Назначение:** [Продажа букета]
**Элементы управления:**
-
-
-

**Действия:**
- Кнопка "[Купить]" — [Отправляет в форму оплаты]
- Кнопка "[В корзину]" — [Отправляет в корзину]

**Пример:**
```markdown
#### Форма 1: MainWindow (Главная форма)

**Назначение:** Главная форма приложения для управления книгами

**Элементы управления:**
- DataGrid — отображение списка книг из базы данных
- TextBox (поиск) — поле для поиска книг по названию или автору
- TabControl — вкладки для разных разделов (Книги, Читатели, Выдачи)
- StatusBar — отображение статуса приложения

**Действия:**
- Кнопка "Добавить книгу" — открывает BookEditWindow для создания новой книги
- Кнопка "Редактировать" — открывает BookEditWindow для редактирования выбранной книги
- Кнопка "Удалить" — удаляет выбранную книгу после подтверждения
```

#### Форма 2: [НазваниеWindow]

**Назначение:** [Описание]

**Элементы управления:**
- ...

**Действия:**
- ...

#### Форма 3: [НазваниеWindow] (Форма списка)

**Назначение:** [Описание формы со списком данных]

**Элементы управления:**
- DataGrid — [отображение списка записей]
- TextBox (поиск) — [поиск по записям]
- ...

**Действия:**
- Кнопка "Добавить" — открытие формы создания новой записи
- Кнопка "Редактировать" — редактирование выбранной записи
- Кнопка "Удалить" — удаление выбранной записи
- ...

#### Форма 4: [НазваниеEditWindow] (Форма редактирования)

**Назначение:** [Создание/редактирование записи]

**Элементы управления:**
- TextBox ([поле1]) — [описание]
- TextBox ([поле2]) — [описание]
- ComboBox ([поле3]) — [выбор из списка]
- DatePicker ([поле4]) — [выбор даты]
- ...

**Действия:**
- Кнопка "Сохранить" — сохранение изменений
- Кнопка "Отмена" — закрытие формы без сохранения

#### Форма 5: PaymentWindow (Форма оплаты)

**Назначение:** [Описание процесса оплаты]

**Элементы управления:**
- ComboBox (тариф) — выбор тарифа подписки/товара
- TextBox (номер карты) — ввод номера банковской карты
- TextBox (срок действия) — ввод срока действия карты (MM/YY)
- TextBox (CVV) — ввод кода безопасности
- TextBlock (сумма) — отображение суммы к оплате
- ...

**Действия:**
- Кнопка "Оплатить" — обработка платежа
- Кнопка "Отмена" — отмена операции

**Важно:** Форма оплаты обязательна для курсовой работы!

---

## 5. Схема переходов между формами

Опишите или нарисуйте схему, как пользователь переходит между формами.

**Текстовое описание:**

1. **Запуск приложения** → [НазваниеПервойФормы]
2. **[ПерваяФорма]** → (после [действия])
   - Если [условие] → [Форма2]
   - Иначе → [Форма3]
3. **[ГлавнаяФорма]** → (доступные переходы)
   - Кнопка "[Действие1]" → [Форма для действия1]
   - Кнопка "[Действие2]" → [Форма для действия2]
   - Меню "Оплата" → [PaymentWindow]
4. **[ФормаРедактирования]** → (после сохранения) → возврат на [ГлавнаяФорма]

**Пример:**
```markdown
### Схема навигации

#### При запуске приложения
**Запуск** → `MainWindow` (главная форма со списком книг)

#### Из MainWindow
**Секция "Книги":**
    - Кнопка "Добавить книгу" → `BookEditWindow` (режим создания)
    - Кнопка "Редактировать книгу" (выбрана книга в списке) → `BookEditWindow` (режим редактирования)
    - Кнопка "Удалить книгу" → диалог подтверждения → удаление, остаёмся на главной

**Секция "Читатели":**
    - Кнопка "Добавить читателя" → `ReaderEditWindow` (создание)
    - Кнопка "Редактировать читателя" (выбран читатель) → `ReaderEditWindow` (редактирование)
    - Кнопка "Удалить читателя" → диалог подтверждения → удаление

**Секция "Выдачи книг":**
    - Кнопка "Выдать книгу" → `LoanBookWindow` (выбор книги и читателя)
    - Кнопка "Вернуть книгу" → диалог подтверждения → обновление статуса выдачи

**Секция "Оплата":**
    - Кнопка "Оплатить подписку" → `PaymentWindow`
    - Показать информацию о текущих подписках

#### Из BookEditWindow
**Кнопка "Сохранить"** → сохранение данных → возврат на `MainWindow` (обновить список книг)
**Кнопка "Отмена"** → возврат на `MainWindow` без сохранения

#### Из ReaderEditWindow
**Кнопка "Сохранить"** → сохранение данных → возврат на `MainWindow` (обновить список читателей)
**Кнопка "Отмена"** → возврат на `MainWindow` без сохранения

#### Из LoanBookWindow
**Кнопка "Выдать"** → создание записи о выдаче → возврат на `MainWindow`
**Кнопка "Отмена"** → возврат на `MainWindow` без создания выдачи

#### Из PaymentWindow
**Кнопка "Оплатить":**
    - Успешная оплата → сообщение об успехе → возврат на `MainWindow`
    - Неудачная оплата → сообщение об ошибке → остаёмся на `PaymentWindow`
**Кнопка "Отмена"** → возврат на `MainWindow` без оплаты
```

**Диаграмма (опционально):**

Вы можете нарисовать блок-схему или диаграмму переходов в любом редакторе:
- [draw.io](https://app.diagrams.net/)
- [Excalidraw](https://excalidraw.com/)
- Miro

Затем вставьте изображение:
```markdown
![Схема переходов](images/navigation-diagram.png)
```
